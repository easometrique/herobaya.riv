<script src="https://unpkg.com/@rive-app/canvas@2.11.0"></script>
<script>
  // Public asset URL (cache-busted)
  const RIV_URL = 'https://easometrique.github.io/herobaya.riv/baya_hero_project.riv?v=' + Date.now();

  // Your file details (case-sensitive)
  const ARTBOARD       = 'Desktop - 1';   // ← EXACT as in your screenshot
  const STATE_MACHINE  = 'HeroMachine';   // ← your SM
  const FALLBACK_ANIMS = ['Idle'];        // ← only used if SM can’t be found

  const canvas = document.getElementById('riveCanvas') || document.getElementById('c');
  let app;

  function size() {
    const dpr = window.devicePixelRatio || 1;
    const cssW = canvas.clientWidth || 1200;
    const cssH = cssW * (800/1200); // adjust if your artboard ratio differs
    canvas.style.height = cssH + 'px';
    canvas.width  = Math.round(cssW * dpr);
    canvas.height = Math.round(cssH * dpr);
    if (app) app.resizeDrawingSurfaceToCanvas();
  }

  function startWithSM() {
    app = new rive.Rive({
      src: RIV_URL,
      canvas,
      artboard: ARTBOARD,               // ← pin to Desktop - 1
      stateMachines: STATE_MACHINE,
      autoplay: true,
      fit: rive.Fit.CONTAIN,
      alignment: rive.Alignment.center,
      onLoad: () => {
        size();
        console.log('SM inputs:',
          (app.stateMachineInputs(STATE_MACHINE)||[]).map(i => `${i.name}`));
      }
    });
  }

  function startWithAnim() {
    app = new rive.Rive({
      src: RIV_URL,
      canvas,
      artboard: ARTBOARD,               // ← same artboard
      animations: FALLBACK_ANIMS,
      autoplay: true,
      fit: rive.Fit.CONTAIN,
      alignment: rive.Alignment.center,
      onLoad: () => { size(); }
    });
  }

  size(); window.addEventListener('resize', size);
  // Try SM first, then fallback after 1s if still nothing visible
  startWithSM();
  setTimeout(() => { app && app.cleanup && app.cleanup(); startWithAnim(); }, 1000);
</script>
