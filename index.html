<!-- Latest Rive runtime -->
<script src="https://unpkg.com/@rive-app/canvas@2.15.0"></script>
<script>
  // Your hosted file (cache-busted)
  const RIV_URL = 'https://easometrique.github.io/herobaya.riv/baya_hero_project.riv?v=' + Date.now();

  // We'll try these animations on both "no artboard" and "Desktop - 1"
  const ANIMS = ['CTA_Button_Hover','CTA_Button_Click','Line','Up_Follow','Left_Follow','Idle'];
  const ARTBOARDS = [null, 'Desktop - 1'];

  // Grab the canvas (id can be 'riveCanvas' or 'stage', whichever you have)
  const canvas = document.getElementById('riveCanvas') || document.getElementById('stage');

  // Size helper so canvas actually has dimensions
  function sizeCanvas(app) {
    const dpr  = window.devicePixelRatio || 1;
    const cssW = canvas.clientWidth || 1200;
    const cssH = Math.round(cssW * (800/1200)); // adjust if your artboard ratio differs
    canvas.style.height = cssH + 'px';
    canvas.width  = Math.round(cssW * dpr);
    canvas.height = Math.round(cssH * dpr);
    if (app) app.resizeDrawingSurfaceToCanvas();
  }

  async function tryCombo(artboard, animName) {
    return new Promise((resolve) => {
      const app = new rive.Rive({
        src: RIV_URL,
        canvas,
        artboard,                 // null = let Rive choose the default
        animations: [animName],
        autoplay: true,
        fit: rive.Fit.CONTAIN,
        alignment: rive.Alignment.center,
        onLoad: () => {
          sizeCanvas(app);
          // Give it a moment to render, then resolve
          setTimeout(() => resolve({ ok: true, app }), 450);
        }
      });
    });
  }

  (async () => {
    sizeCanvas(); window.addEventListener('resize', () => sizeCanvas());

    // Try each animation on each artboard until we see something
    for (const art of ARTBOARDS) {
      for (const anim of ANIMS) {
        try {
          // Clean up previous attempt
          if (window._riveApp && window._riveApp.cleanup) window._riveApp.cleanup();
        } catch {}
        console.log('Trying anim:', anim, 'on artboard:', art || '(auto)');

        const { ok, app } = await tryCombo(art, anim);
        window._riveApp = app;

        // Youâ€™ll visually see it if it worked. If you do, stop here.
        // Open the DevTools console to see which combo worked.
        // If canvas is still blank, it continues with the next attempt.
      }
    }

    console.warn('No combo produced visible output. If you still see a blank canvas, check DevTools > Network (the .riv must be 200) and Console for errors.');
  })();
</script>
